{% extends 'base.html' %}
{% load static %}

{% block title %}Create Account - EDUSTREAM{% endblock %}



{% block content %}
<!-- Split screen layout - matching login page -->
<div class="h-full flex overflow-hidden relative"
    style="background: linear-gradient(135deg, #000a14 0%, #00101e 20%, #001a3a 40%, #002a5c 60%, #003d7a 80%, #005299 100%);">

    <!-- Left side - Hero section (matching login page layout) -->
    <div class="hidden lg:flex lg:w-1/2 relative overflow-hidden items-center justify-center p-8">

        <!-- Animated Background Elements -->
        <div class="absolute inset-0">
            <!-- Gradient Orbs -->
            <div class="absolute top-0 left-0 w-full h-full overflow-hidden z-0">
                <div
                    class="absolute top-[-10%] left-[-10%] w-[50%] h-[50%] bg-edustream-emerald/20 rounded-full blur-[120px] animate-pulse-slow">
                </div>
                <div
                    class="absolute bottom-[-10%] right-[-10%] w-[50%] h-[50%] bg-blue-300/10 rounded-full blur-[120px] animate-pulse-slow delay-1000">
                </div>
            </div>

            <!-- Grid Pattern -->
            <div
                class="absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMSIgY3k9IjEiIHI9IjEiIGZpbGw9InJnYmEoMjU1LDI1NSwyNTUsMC4wNSkiLz48L3N2Zz4=')] opacity-20">
            </div>
        </div>

        <!-- Content Container - Centered (same as login) -->
        <div class="relative z-10 max-w-md w-full">

            <!-- Badge -->
            <div
                class="inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-edustream-emerald/10 border border-edustream-emerald/20 backdrop-blur-md mb-6 animate-fade-in-up">
                <div class="w-1.5 h-1.5 rounded-full bg-edustream-emerald animate-pulse"></div>
                <span class="text-[10px] font-bold tracking-widest text-edustream-emerald uppercase">Global Learning
                    Network</span>
            </div>

            <!-- Main Heading -->
            <h1 class="text-5xl font-bold text-white leading-tight mb-4 animate-fade-in-up delay-100">
                Elevate Your
                <br>
                <span
                    class="text-transparent bg-clip-text bg-gradient-to-r from-edustream-emerald to-teal-400">Potential.</span>
            </h1>

            <p class="text-sm text-text-secondary leading-relaxed mb-8 max-w-sm animate-fade-in-up delay-200">
                Join over 1.2 million professionals mastering the future of digital architecture and design.
            </p>

            <!-- Stats/Features (matching login page) -->
            <div class="grid grid-cols-2 gap-4 animate-fade-in-up delay-300">
                <div
                    class="p-3 rounded-xl bg-white/5 border border-white/10 backdrop-blur-sm hover:bg-white/10 transition-colors">
                    <div class="w-8 h-8 rounded-lg bg-edustream-emerald/20 flex items-center justify-center mb-2">
                        <span class="material-symbols-outlined text-edustream-emerald text-lg">verified</span>
                    </div>
                    <div class="text-xl font-bold text-white mb-0.5">Secure</div>
                    <div class="text-[10px] text-text-muted uppercase tracking-wider">Enrollment</div>
                </div>
                <div
                    class="p-3 rounded-xl bg-white/5 border border-white/10 backdrop-blur-sm hover:bg-white/10 transition-colors">
                    <div class="w-8 h-8 rounded-lg bg-blue-500/20 flex items-center justify-center mb-2">
                        <span class="material-symbols-outlined text-blue-400 text-lg">language</span>
                    </div>
                    <div class="text-xl font-bold text-white mb-0.5">Global</div>
                    <div class="text-[10px] text-text-muted uppercase tracking-wider">Access</div>
                </div>
            </div>

            <!-- Footer Info (matching login) -->
            <div class="mt-8 flex items-center gap-3 text-[10px] text-text-muted animate-fade-in-up delay-400">
                <div class="flex -space-x-2">
                    <div
                        class="w-7 h-7 rounded-full bg-slate-700 border-2 border-[#0b1969] flex items-center justify-center text-[9px] text-white">
                        A</div>
                    <div
                        class="w-7 h-7 rounded-full bg-slate-600 border-2 border-[#0b1969] flex items-center justify-center text-[9px] text-white">
                        B</div>
                    <div
                        class="w-7 h-7 rounded-full bg-slate-500 border-2 border-[#0b1969] flex items-center justify-center text-[9px] text-white">
                        C</div>
                </div>
                <p>Join 10,000+ elite learners worldwide.</p>
            </div>
        </div>
    </div>

    <!-- Right side - Registration form -->
    <div class="w-full lg:w-1/2 flex flex-col p-[20px] relative h-full overflow-hidden">
        <!-- Background Glow -->
        <div
            class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-edustream-emerald/5 rounded-full blur-[100px] pointer-events-none">
        </div>

        <div class="flex-1 flex items-center justify-center overflow-hidden w-full h-full">
            <div class="w-full max-w-2xl relative z-10 max-h-full flex flex-col">
                <!-- Glass Card (matching login) -->
                <div
                    class="bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl p-5 shadow-2xl relative flex flex-col overflow-hidden max-w-md mx-auto">

                    <!-- Top Decoration -->
                    <div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-edustream-emerald to-blue-500">
                    </div>

                    <!-- Header -->
                    <div class="mb-4 text-center">
                        <div
                            class="w-12 h-12 bg-edustream-emerald/10 rounded-xl flex items-center justify-center mx-auto mb-3 border border-edustream-emerald/20">
                            <span class="material-symbols-outlined text-2xl text-edustream-emerald">person_add</span>
                        </div>
                        <h2 class="text-xl font-bold text-white mb-1">Create Account</h2>
                        <p class="text-xs text-white/60">Start your elite learning journey today.</p>
                    </div>

                    <!-- Registration form -->
                    <form method="post" enctype="multipart/form-data" class="space-y-3">
                        {% csrf_token %}



                        <!-- Role selection - big toggle buttons -->
                        <div>
                            <label
                                class="block text-[10px] font-bold text-white/70 uppercase tracking-wider mb-2 ml-1">I
                                am
                                joining as a</label>
                            <div class="grid grid-cols-2 gap-3">
                                <label class="cursor-pointer">
                                    <input type="radio" name="user_type" value="student" class="hidden peer" required
                                        checked>
                                    <div
                                        class="bg-white/5 border-2 border-white/10 rounded-lg p-2.5 text-center peer-checked:border-edustream-emerald peer-checked:bg-edustream-emerald/10 transition-all hover:border-edustream-emerald/50">
                                        <span class="material-symbols-outlined text-xl mb-0.5 block">school</span>
                                        <span class="font-semibold text-xs">Student</span>
                                    </div>
                                </label>
                                <label class="cursor-pointer">
                                    <input type="radio" name="user_type" value="teacher" class="hidden peer">
                                    <div
                                        class="bg-white/5 border-2 border-white/10 rounded-lg p-2.5 text-center peer-checked:border-edustream-emerald peer-checked:bg-edustream-emerald/10 transition-all hover:border-edustream-emerald/50">
                                        <span class="material-symbols-outlined text-xl mb-0.5 block">person</span>
                                        <span class="font-semibold text-xs">Teacher</span>
                                    </div>
                                </label>
                            </div>
                        </div>
                        <!-- Names -->
                        <div class="grid grid-cols-2 gap-3">
                            <div class="space-y-1">
                                <label class="text-[10px] font-bold text-white/70 uppercase tracking-wider ml-1">First
                                    Name</label>
                                <div class="relative group">
                                    <span
                                        class="material-symbols-outlined text-[18px] absolute left-3 top-2.5 text-text-muted transition-colors group-focus-within:text-edustream-emerald">person</span>
                                    <input type="text" name="first_name" placeholder="First Name" required
                                        class="w-full bg-white/5 border border-white/10 rounded-lg pl-9 pr-3 py-2 text-xs text-white focus:outline-none focus:border-edustream-emerald focus:bg-white/10 transition-all placeholder:text-text-muted"
                                        value="{{ form.first_name.value|default:'' }}">
                                </div>
                            </div>
                            <div class="space-y-1">
                                <label class="text-[10px] font-bold text-white/70 uppercase tracking-wider ml-1">Last
                                    Name</label>
                                <div class="relative group">
                                    <span
                                        class="material-symbols-outlined text-[18px] absolute left-3 top-2.5 text-text-muted transition-colors group-focus-within:text-edustream-emerald">person</span>
                                    <input type="text" name="last_name" placeholder="Last Name" required
                                        class="w-full bg-white/5 border border-white/10 rounded-lg pl-9 pr-3 py-2 text-xs text-white focus:outline-none focus:border-edustream-emerald focus:bg-white/10 transition-all placeholder:text-text-muted"
                                        value="{{ form.last_name.value|default:'' }}">
                                </div>
                            </div>
                        </div>
                        <!-- Username & Email -->
                        <div class="grid grid-cols-2 gap-3">
                            <div class="space-y-1">
                                <label
                                    class="text-[10px] font-bold text-white/70 uppercase tracking-wider ml-1">Username</label>
                                <div class="relative group">
                                    <span
                                        class="material-symbols-outlined text-[18px] absolute left-3 top-2.5 text-text-muted transition-colors group-focus-within:text-edustream-emerald">person</span>
                                    <input type="text" name="username" placeholder="Username" required
                                        class="w-full bg-white/5 border border-white/10 rounded-lg pl-9 pr-3 py-2 text-xs text-white focus:outline-none focus:border-edustream-emerald focus:bg-white/10 transition-all placeholder:text-text-muted"
                                        value="{{ form.username.value|default:'' }}">
                                </div>
                                {% if form.username.errors %}
                                <p class="text-red-400 text-[10px] ml-1">{{ form.username.errors.0 }}</p>
                                {% endif %}
                            </div>

                            <div class="space-y-1">
                                <label
                                    class="text-[10px] font-bold text-white/70 uppercase tracking-wider ml-1">Email</label>
                                <div class="relative group">
                                    <span
                                        class="material-symbols-outlined text-[18px] absolute left-3 top-2.5 text-text-muted transition-colors group-focus-within:text-edustream-emerald">mail</span>
                                    <input type="email" name="email" placeholder="Enter your email" required
                                        class="w-full bg-white/5 border border-white/10 rounded-lg pl-9 pr-3 py-2 text-xs text-white focus:outline-none focus:border-edustream-emerald focus:bg-white/10 transition-all placeholder:text-text-muted"
                                        value="{{ form.email.value|default:'' }}">
                                </div>
                                {% if form.email.errors %}
                                <p class="text-red-400 text-[10px] ml-1">{{ form.email.errors.0 }}</p>
                                {% endif %}
                            </div>
                        </div>

                        <!-- Passwords -->
                        <div class="grid grid-cols-2 gap-3">
                            <div class="space-y-1">
                                <label
                                    class="text-[10px] font-bold text-white/70 uppercase tracking-wider ml-1">Password</label>
                                <div class="relative group">
                                    <span
                                        class="material-symbols-outlined text-[18px] absolute left-3 top-2.5 text-text-muted transition-colors group-focus-within:text-edustream-emerald">lock</span>
                                    <input type="password" name="password1" placeholder="Create password" required
                                        class="w-full bg-white/5 border border-white/10 rounded-lg pl-9 pr-3 py-2 text-xs text-white focus:outline-none focus:border-edustream-emerald focus:bg-white/10 transition-all placeholder:text-text-muted">
                                </div>
                                {% if form.password1.errors %}
                                <p class="text-red-400 text-[10px] ml-1">{{ form.password1.errors.0 }}</p>
                                {% endif %}
                            </div>

                            <div class="space-y-1">
                                <label
                                    class="text-[10px] font-bold text-white/70 uppercase tracking-wider ml-1">Confirm</label>
                                <div class="relative group">
                                    <span
                                        class="material-symbols-outlined text-[18px] absolute left-3 top-2.5 text-text-muted transition-colors group-focus-within:text-edustream-emerald">lock</span>
                                    <input type="password" name="password2" placeholder="Re-enter" required
                                        class="w-full bg-white/5 border border-white/10 rounded-lg pl-9 pr-3 py-2 text-xs text-white focus:outline-none focus:border-edustream-emerald focus:bg-white/10 transition-all placeholder:text-text-muted">
                                </div>
                                {% if form.password2.errors %}
                                <p class="text-red-400 text-[10px] ml-1">{{ form.password2.errors.0 }}</p>
                                {% endif %}
                            </div>
                        </div>

                        <!-- Submit button (matching login style) -->
                        <button type="submit"
                            class="w-full bg-gradient-to-r from-edustream-emerald to-emerald-600 hover:from-emerald-400 hover:to-emerald-500 text-edustream-navy font-bold py-2.5 text-sm rounded-lg flex items-center justify-center gap-2 transform active:scale-[0.98] transition-all shadow-lg shadow-emerald-500/20 mt-2">
                            <span>Create Account</span>
                            <span class="material-symbols-outlined text-base">arrow_forward</span>
                        </button>

                    </form>

                    <!-- Sign in link -->
                    <div class="mt-4 text-center pt-4 border-t border-white/5">
                        <p class="text-[11px] text-white/60">
                            Already have an account?
                            <a href="{% url 'login' %}"
                                class="text-edustream-emerald font-bold hover:text-emerald-400 transition-colors ml-1">Sign
                                In</a>
                        </p>
                    </div>

                </div>


            </div>
        </div>

    </div>

    <!-- JavaScript for image preview -->
    <script>
        function previewImage(input) {
            // showing the uploaded image in the circle
            const preview = document.getElementById('preview-img');
            const cameraIcon = document.getElementById('camera-icon');

            if (input.files && input.files[0]) {
                const reader = new FileReader();

                reader.onload = function (e) {
                    preview.src = e.target.result;
                    preview.classList.remove('hidden');
                    cameraIcon.classList.add('hidden');
                }

                reader.readAsDataURL(input.files[0]);
            }
        }
    </script>

    <style>
        @keyframes pulse-slow {

            0%,
            100% {
                opacity: 0.3;
                transform: scale(1);
            }

            50% {
                opacity: 0.5;
                transform: scale(1.1);
            }
        }

        .animate-pulse-slow {
            animation: pulse-slow 8s infinite ease-in-out;
        }

        @keyframes fade-in-up {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .animate-fade-in-up {
            animation: fade-in-up 0.8s ease-out forwards;
        }

        .delay-100 {
            animation-delay: 0.1s;
        }

        .delay-200 {
            animation-delay: 0.2s;
        }

        .delay-300 {
            animation-delay: 0.3s;
        }

        .delay-400 {
            animation-delay: 0.4s;
        }
    </style>

    {% endblock %}